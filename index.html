<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IAMOBI - SISTEMA INTEGRADO V6.0</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap');

        body { 
            background: #020408; color: #f8fafc; font-family: 'Rajdhani', sans-serif; 
            margin: 0; padding: 15px; display: flex; flex-direction: column; align-items: center; 
        }

        .container { width: 100%; max-width: 420px; }

        .header { 
            text-align: center; padding: 20px; border: 1px solid #1ed760; border-radius: 15px; 
            margin-bottom: 25px; background: rgba(30, 215, 96, 0.02);
            box-shadow: 0 0 20px rgba(30, 215, 96, 0.1);
        }
        .header h1 { font-family: 'Orbitron', sans-serif; font-size: 1.8rem; color: #1ed760; margin: 0; text-shadow: 0 0 10px #1ed760; }

        .card { 
            background: linear-gradient(145deg, #0f172a 0%, #020617 100%); 
            border-radius: 24px; padding: 25px; margin-bottom: 15px; 
            border: 1px solid rgba(255,255,255,0.05); box-shadow: 10px 10px 30px rgba(0,0,0,0.5);
            position: relative; overflow: hidden;
        }
        .utb { border-left: 4px solid #f97316; }
        .brb { border-left: 4px solid #3b82f6; }

        h2 { margin: 0; font-size: 1rem; color: #fff; font-family: 'Orbitron', sans-serif; letter-spacing: 2px; text-transform: uppercase; }

        .btn { 
            padding: 18px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; 
            color: #fff; font-size: 0.85rem; text-transform: uppercase; width: 100%; 
            font-family: 'Orbitron', sans-serif; transition: 0.1s; margin-top: 15px;
            box-shadow: 0 6px 0px rgba(0,0,0,0.5);
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 3px 0px rgba(0,0,0,0.5); }
        
        /* Cores dos Bot√µes Mantidas */
        .btn-utb { background: linear-gradient(to bottom, #f97316, #c2410c); }
        .btn-robot { background: linear-gradient(to bottom, #00f2ff, #0066ff); text-shadow: 0 0 5px #fff; } /* Estilo Rob√¥ */
        .btn-saldo { background: linear-gradient(to bottom, #475569, #1e293b); border: 1px solid rgba(255,255,255,0.1); }
        .btn-brb { background: linear-gradient(to bottom, #3b82f6, #1d4ed8); }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        
        .infinite { 
            background: linear-gradient(to bottom, #1ed760, #15803d); 
            color: #000; grid-column: span 2; box-shadow: 0 5px 0px #065f46; 
        }

        .btn-inter { background: #ff7a00; box-shadow: 0 5px 0px #b35600; }
        .btn-nubank { background: #820ad1; box-shadow: 0 5px 0px #4c067a; }
        .btn-itau { background: #ec7000; box-shadow: 0 5px 0px #a04d00; }
        .btn-bradesco { background: #cc092f; box-shadow: 0 5px 0px #8a0620; }
        .btn-caixa { background: #005ca9; box-shadow: 0 5px 0px #003e73; }
        .btn-santander { background: #ec0000; box-shadow: 0 5px 0px #a30000; }

        footer { margin-top: 30px; font-size: 0.65rem; color: #334155; font-family: monospace; letter-spacing: 2px; text-align: center;}
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>IAMOBI</h1>
        <small style="color:#1ed760">SISTEMA DE ALTA AUTORIDADE</small>
    </div>

    <div class="card utb">
        <h2>UTB RECARGAS</h2>
        <button id="btn-automacao" class="btn btn-robot" onclick="gerarPixAutomatico('03620000035530', '4')">ü§ñ GERAR PIX AUTOM√ÅTICO</button>
        
        <button class="btn btn-utb" onclick="diretoUTB('03620000035530', '4')">COPIAR ID E ABRIR SITE</button>
        <button class="btn btn-saldo" onclick="window.location.href='https://www.utb.com.br/consulta-saldo'">CONSULTAR SALDO UTB</button>
    </div>

    <div class="card brb">
        <h2>BRB MOBI</h2>
        <button class="btn btn-brb" onclick="smartRecarga('1023449012')">ABRIR TERMINAL BRB</button>
    </div>

    <div class="grid">
        <button class="btn infinite" onclick="copyPix('00020101021226580014BR.GOV.BCB.PIX0115pay@droppfy.com0217Pagamento droppfy52040000530398654040.015802BR5925CRISTIAN RIBEIRO FLORENCI6015AGUAS LINDAS DE62290525QRCCVzF3XA7wIYGazhMXHFZnc6304631B')">COPIAR PIX (CRISTIAN)</button>
        
        <button class="btn btn-inter" onclick="openBank('inter')">INTER</button>
        <button class="btn btn-nubank" onclick="openBank('nubank')">NUBANK</button>
        <button class="btn btn-itau" onclick="openBank('itau')">ITA√ö</button>
        <button class="btn btn-bradesco" onclick="openBank('bradesco')">BRADESCO</button>
        <button class="btn btn-caixa" onclick="openBank('caixa')">CAIXA</button>
        <button class="btn btn-santander" onclick="openBank('santander')">SANTANDER</button>
    </div>

    <footer>SISTEMA CRIPTOGRAFADO | PROTOCOLO V6.0</footer>
</div>

<script>
    // --- INTEGRA√á√ÉO COM O ROB√î PYTHON ---
    async function gerarPixAutomatico(cartao, digito) {
        const btn = document.getElementById('btn-automacao');
        const originalText = btn.innerText;
        
        btn.innerText = "ü§ñ ACESSANDO SERVIDOR...";
        btn.style.opacity = "0.7";

        try {
            // LEMBRE-SE: Troque o IP abaixo pelo IP do seu computador na rede
            const response = await fetch('http://localhost:5000/gerar_pix', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ cartao: cartao, digito: digito })
            });

            const data = await response.json();

            if (data.status === "sucesso") {
                await navigator.clipboard.writeText(data.pix);
                alert("SUCESSO ABSOLUTO!\n\nPix da UTB capturado pelo rob√¥ e copiado para sua √°rea de transfer√™ncia.");
                btn.innerText = "‚úÖ PIX COPIADO!";
                setTimeout(() => { btn.innerText = originalText; btn.style.opacity = "1"; }, 3000);
            } else {
                alert("Falha na Automa√ß√£o: " + data.mensagem);
                btn.innerText = originalText;
                btn.style.opacity = "1";
            }
        } catch (err) {
            alert("ERRO DE CONEX√ÉO:\nO servidor Python est√° ligado no PC?\nCertifique-se que o IP est√° correto.");
            btn.innerText = originalText;
            btn.style.opacity = "1";
        }
    }

    // --- FUN√á√ïES ORIGINAIS MANTIDAS ---
    function diretoUTB(id, digito) {
        navigator.clipboard.writeText(id).then(() => {
            alert("IAMOBI UTB:\nID: " + id + "\nD√çGITO: " + digito + "\n\nID COPIADO! Redirecionando...");
            window.location.href = "https://www.utb.com.br/recarga";
        });
    }

    function copyPix(codigoPix) {
        navigator.clipboard.writeText(codigoPix).then(() => {
            alert("PIX COPIA E COLA COPIADO!\nEscolha um banco para pagar.");
        });
    }

    function smartRecarga(id) {
        navigator.clipboard.writeText(id).then(() => {
            alert("SISTEMA IAMOBI:\nID BRB COPIADO!");
            window.location.href = "https://onelink.to/mobilidade";
        });
    }

    function openBank(banco) {
        const links = {
            'inter': 'intent://#Intent;scheme=inter;package=br.com.intermedium;end',
            'nubank': 'intent://#Intent;scheme=nubank;package=com.nu.production;end',
            'itau': 'intent://#Intent;scheme=itau;package=com.itau;end',
            'bradesco': 'intent://#Intent;scheme=bradesco;package=com.bradesco;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;end',
            'caixa': 'intent://#Intent;scheme=caixa;package=br.com.gabba.Caixa;end',
            'santander': 'intent://#Intent;scheme=santander;package=br.com.santander.way;end'
        };
        window.location.href = links[banco];
    }
</script>

</body>
</html>
